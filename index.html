<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VidX Lab — All Apps</title>
  <meta name="description" content="All Android apps by VidX Lab with links to Google Play." />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://play-lh.googleusercontent.com https://vidxplay.github.io data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'">
  <link rel="preconnect" href="https://play-lh.googleusercontent.com" crossorigin>
  <link rel="preconnect" href="https://vidxplay.github.io" crossorigin>
  <link rel="dns-prefetch" href="https://vidxplay.github.io">
  <style>
    /* ===== Play Store–inspired theme (Material-ish) ===== */
    :root{ --bg:#ffffff; --ink:#1f1f1f; --muted:#5f6368; --divider:#e0e0e0; --tile:#fff; --accent:#01875f; }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    a{color:inherit;text-decoration:none}
    .shell{max-width:1120px;margin:0 auto;padding:24px 16px 80px}

    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:40px;height:40px;border-radius:8px;object-fit:cover;border:1px solid var(--divider);box-shadow:0 2px 6px rgba(0,0,0,.08)}
    h1{font-size:clamp(20px,3.2vw,28px);margin:0}
    .sub{color:var(--muted);font-size:14px;margin-top:2px}
    .store-link{color:#1a73e8;text-decoration:underline}

    /* search */
    .search{display:flex;align-items:center;gap:10px;margin:12px 0 16px;position:relative}
    .search input{width:100%;padding:12px 14px 12px 44px;border-radius:24px;border:1px solid var(--divider);background:#f8f9fa;color:var(--ink);outline:none}
    .search .ico{position:absolute;left:14px;top:50%;transform:translateY(-50%);width:18px;height:18px;border:2px solid var(--muted);border-radius:50%}
    .search .ico::after{content:"";position:absolute;left:10px;top:10px;width:8px;height:2px;background:var(--muted);transform:rotate(45deg)}

    /* grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{grid-column:span 4;display:flex;flex-direction:column;gap:10px;background:var(--tile);border:1px solid var(--divider);border-radius:12px;padding:12px;box-shadow:0 1px 2px rgba(0,0,0,.06);position:relative;overflow:hidden;transition:transform .2s ease, box-shadow .2s ease;cursor:pointer}
    @media (max-width:1000px){.card{grid-column:span 6}}
    @media (max-width:640px){.card{grid-column:span 12}}

    /* Feature region */
    .feature{width:100%;height:clamp(110px,12vw,160px);border-radius:8px;background:#f1f3f4;object-fit:cover;position:relative;overflow:hidden;transition:transform .35s ease;will-change:transform}

    .row{display:flex;gap:12px;align-items:center}
    .icon{width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid var(--divider);background:#f8f9fa}
    .meta{display:flex;flex-direction:column;gap:4px}
    .title{font-weight:600}
    .tag{color:var(--muted);font-size:13px}

    .card:hover{transform:translateY(-3px);box-shadow:0 6px 16px rgba(0,0,0,.14)}
    .card:active{transform:translateY(0) scale(.985)}
    .ripple{position:absolute;border-radius:50%;transform:scale(0);animation:ripple .45s ease-out;background:rgba(1,135,95,.25);pointer-events:none;opacity:1}
    @keyframes ripple{to{transform:scale(12);opacity:0}}

    /* gentle parallax on feature image */
    .card:hover .feature{transform:scale(1.02)}
    .card:active .feature{transform:scale(1.01)}

    .cta{margin-top:auto;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .pkg{font-size:12px;color:var(--muted)}
    .play-badge{height:24px;cursor:pointer}

    /* about + footer */
    .info{margin-top:28px}
    .ibox{background:var(--tile);border:1px solid var(--divider);border-radius:12px;padding:16px}
    .ibox h2{margin:0 0 8px 0;font-size:16px}
    .ibox p{margin:0;color:var(--muted)}

    footer{margin-top:24px;font-size:13px;color:var(--muted);display:flex;flex-direction:column;gap:6px}
    .footer-links a{color:#1a73e8;text-decoration:underline}

    .card:focus-visible{outline:none;box-shadow:0 0 0 3px rgba(1,135,95,.35),0 2px 6px rgba(0,0,0,.1)}
    @media (prefers-reduced-motion: reduce){.card{transition:none !important;transform:none !important}.card:hover{transform:none !important;box-shadow:0 1px 2px rgba(0,0,0,.06)}.ripple{display:none !important;animation:none !important}.card:hover .feature,.card:active .feature{transform:none !important}}
  </style>
</head>
<body>
  <div class="shell">
    <header>
      <div class="brand">
        <img class="logo" src="https://vidxplay.github.io/vidxlab.jpg" alt="VidX Lab logo" width="40" height="40" loading="lazy" decoding="async">
        <div>
          <h1>VidX Lab — Apps</h1>
          <div class="sub">Browse all apps from VidX Lab in a Play‑style layout.</div>
        </div>
      </div>
      <a class="store-link" href="https://play.google.com/store/apps/dev?id=5192085574932938666&hl=en" target="_blank" rel="noopener">View on Google Play</a>
    </header>

    <div class="search">
      <span class="ico" aria-hidden="true"></span>
      <input id="q" type="search" placeholder="Search apps (title, description, or package id)" aria-label="Search apps" />
    </div>

    <section id="apps" class="grid" aria-live="polite" aria-busy="false"></section>
    <div id="empty" class="empty" hidden>No apps match your search.</div>

    <!-- About -->
    <section class="info" id="publisherInfo">
      <div class="ibox">
        <h2>About</h2>
        <p>Innovation, security, and media tools—VidX Lab crafts apps designed to enrich and protect your mobile world by Arti Mishra.</p>
      </div>
    </section>

    <footer>
      <div>Icons and listings belong to their respective owners.</div>
      <div class="footer-links"><a href="mailto:vidxplay@gmail.com">Contact</a> · <a href="https://vidxplay.github.io/tnc/filesprivacy.html" target="_blank" rel="noopener">Privacy</a></div>
    </footer>
  </div>

  <script>
  // ===== Data (official feature graphics provided via GitHub URLs) =====
  var APPS = [
    {title:"VidX Applock",id:"com.vidxlab.applocker",icon:"https://play-lh.googleusercontent.com/-DiY0InOB21bpia4Fk6ho8VzRfjX6ESPp-1sTMpz1mvTHVCwYAWE560glEJevfje8Tq4r7z7UunDPsSG776q4g=w240-h480",feature:"https://vidxplay.github.io/d.png",featurePos:"center left",url:"https://play.google.com/store/apps/details?id=com.vidxlab.applocker",tagline:"Secure your apps, protect your privacy."},
    {title:"VidX Files",id:"com.vidxlab.files",icon:"https://play-lh.googleusercontent.com/SUyZdTBW9tz40DDcZd3IU_Id--KMc-Da_Mg38ZGBkD2lpf4va5Gmkmp3Oiv4kWvlamv5dADaOmsiBGbPemuwxg=w240-h480",feature:"https://vidxplay.github.io/b.png",featurePos:"center right",url:"https://play.google.com/store/apps/details?id=com.vidxlab.files",tagline:"Smart file manager."},
    {title:"VidX Music – Offline Player",id:"com.vidxlab.vidxmusic",icon:"https://play-lh.googleusercontent.com/M4AOHimN0lrd92lszsvKkh8IzhJAqxfCpKvHtXgPePQJYUVKR5OHZVG1IGXfJT8Q7AeSj6_muoK-1XQHumw9B_Y=w240-h480",feature:"https://vidxplay.github.io/c.png",featurePos:"center left",url:"https://play.google.com/store/apps/details?id=com.vidxlab.vidxmusic",tagline:"Offline media player for local music & videos."},
    {title:"VidX Player",id:"com.vidx.vidxplayer",icon:"https://play-lh.googleusercontent.com/LeNMRwNy8x4mf_a-h8UcIhpKsC9M_qYAfxh17CAViXxLOifdRxcbQjoKG7dwh0wn-inZn1KR3oYcj0vTm3F4_0Y=w240-h480",feature:"https://vidxplay.github.io/a.png",featurePos:"center right",url:"https://play.google.com/store/apps/details?id=com.vidx.vidxplayer",tagline:"Play everything, beautifully."},
    {title:"VidX Gallery - Photos & Videos",id:"com.vidxlab.gallery",icon:"https://play-lh.googleusercontent.com/uF0muGBpTo2_7QnmGClYxaPmx4-RG4-Qf7KwHGgMP3_WbO4ACJa6eqaLZ0aP_MKmCLVmNgsBbJZTCV_AGD2baA=w240-h480",feature:"https://vidxplay.github.io/f.png",featurePos:"center right",url:"https://play.google.com/store/apps/details?id=com.vidxlab.gallery",tagline:"Fast, secure & lightweight gallery for photos and videos."}
  ];

  // ===== Helpers =====
  function normalize(s){ return (s || '').toLowerCase(); }
  function createEl(tag, className, text){
    var el = document.createElement(tag);
    if(className) el.className = className;
    if(text !== undefined && text !== null) el.textContent = text;
    return el;
  }

  // Randomize order (Fisher–Yates)
  function shuffle(arr){
    for(var i=arr.length-1;i>0;i--){
      var j = Math.floor(Math.random()*(i+1));
      var t = arr[i]; arr[i] = arr[j]; arr[j] = t;
    }
    return arr;
  }

  // Find a feature image element by package id (for tests)
  function featureElById(id){
    var grid = document.getElementById('apps');
    var cards = grid.querySelectorAll('.card');
    for(var i=0;i<cards.length;i++){
      var pkg = cards[i].querySelector('.pkg');
      if(pkg && pkg.textContent === id){
        return cards[i].querySelector('.feature');
      }
    }
    return null;
  }

  function buildCard(app){
    var a = createEl('a', 'card');
    a.href = app.url; a.target = '_blank'; a.rel = 'noopener';
    a.setAttribute('aria-label', app.title + ' — open on Google Play');

    // Feature graphic (external URL provided by you)
    var fg = createEl('img', 'feature');
    fg.loading = 'lazy'; fg.decoding = 'async';
    fg.alt = app.title + ' feature graphic';
    fg.width = 1024; fg.height = 500; // reserve space to prevent CLS
    fg.src = app.feature; // required per your latest setup
    if(app.featurePos){ fg.style.objectPosition = app.featurePos; }
    fg.onerror = function(){ try{ this.remove(); }catch(e){} }; // hide if fetch fails
    a.appendChild(fg);

    // Icon + meta
    var row = createEl('div', 'row');
    var img = createEl('img', 'icon');
    img.loading = 'lazy'; img.decoding = 'async'; img.width = 56; img.height = 56;
    img.alt = app.title + ' icon'; img.src = app.icon;
    var meta = createEl('div', 'meta');
    var title = createEl('div', 'title', app.title);
    var tag = createEl('div', 'tag', app.tagline || '');
    meta.appendChild(title); meta.appendChild(tag);
    row.appendChild(img); row.appendChild(meta);

    // CTA
    var cta = createEl('div', 'cta');
    var pkg = createEl('span', 'pkg', app.id);
    var play = createEl('img', 'play-badge');
    play.alt = 'Get it on Google Play';
    play.src = 'https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg';
    play.addEventListener('click', function(ev){
      ev.preventDefault(); ev.stopPropagation();
      var isAndroid = /Android/i.test(navigator.userAgent || '');
      if(isAndroid){
        // Open in Play Store app when possible
        try{ location.href = 'market://details?id=' + app.id; return; }catch(_){}
      }
      try{ window.open(app.url, '_blank', 'noopener'); }catch(e){ location.href = app.url; }
    });
    cta.appendChild(pkg); cta.appendChild(play);

    a.appendChild(row);
    a.appendChild(cta);

    // Ripple effect on click/tap
    function addRipple(ev){
      var rect = a.getBoundingClientRect();
      var clientX = ev.touches ? ev.touches[0].clientX : ev.clientX;
      var clientY = ev.touches ? ev.touches[0].clientY : ev.clientY;
      var x = clientX - rect.left; var y = clientY - rect.top; var d = Math.max(rect.width, rect.height) * 2;
      var rip = document.createElement('span');
      rip.className = 'ripple'; rip.style.width = rip.style.height = d + 'px';
      rip.style.left = (x - d/2) + 'px'; rip.style.top = (y - d/2) + 'px'; a.appendChild(rip);
      setTimeout(function(){ if(rip && rip.parentNode){ rip.parentNode.removeChild(rip); } }, 650);
    }
    a.addEventListener('mousedown', addRipple); a.addEventListener('touchstart', addRipple, {passive:true});

    return a;
  }

  function render(list){
    var grid = document.getElementById('apps');
    var empty = document.getElementById('empty');
    grid.innerHTML = '';
    for(var i=0;i<list.length;i++){ grid.appendChild(buildCard(list[i])); }
    grid.style.display = list.length ? 'grid' : 'none';
    if(empty){ empty.hidden = !!list.length; }
  }

  function filter(){
    var q = document.getElementById('q');
    var query = normalize(q.value);
    var list = !query ? APPS : APPS.filter(function(app){
      return normalize(app.title).indexOf(query) !== -1 ||
             normalize(app.tagline).indexOf(query) !== -1 ||
             normalize(app.id).indexOf(query) !== -1;
    });
    render(list);
  }

  // ===== Init =====
  document.getElementById('q').addEventListener('input', filter);
  // keyboard shortcuts: '/' focuses search, Esc clears
  document.addEventListener('keydown', function(e){
    var q = document.getElementById('q');
    var tag = (document.activeElement && document.activeElement.tagName) || '';
    var inInput = /INPUT|TEXTAREA/.test(tag);
    if(e.key === '/' && !inInput){ e.preventDefault(); q.focus(); }
    if(e.key === 'Escape' && document.activeElement === q && q.value){ q.value=''; filter(); }
  });
  shuffle(APPS);
  render(APPS);

  // ===== Smoke tests (console) =====
  (function(){
    function ok(cond, msg){ if(!cond){ throw new Error(msg); } }
    try{
      var grid = document.getElementById('apps');
      ok(grid.children.length === APPS.length, 'Render count should equal APPS length');

      // Title-wide match should keep all visible
      var q = document.getElementById('q');
      q.value = 'vidx'; filter(); ok(grid.children.length === APPS.length, 'Search "vidx" should match all titles');

      // Unlikely query should hide all
      q.value = 'unlikely-zz'; filter(); ok(grid.children.length === 0, 'Unlikely query should hide all');

      // Package id search should return exactly one (Files)
      q.value = 'com.vidxlab.files'; filter(); ok(grid.children.length === 1, 'Package-id search should return exactly one');

      // Clear resets to full list
      q.value = ''; filter(); ok(grid.children.length === APPS.length, 'Clearing search should restore all');

      // Feature image src check for the first card
      var firstCardImg = grid.querySelector('.card .feature');
      ok(!!firstCardImg && typeof firstCardImg.src === 'string' && firstCardImg.src.length > 0, 'Feature image should be present with a src');
      ok(firstCardImg.clientHeight <= 180, 'Feature banner should be compact (<=180px)');

      // Object position check for Gallery (last item)
      var lastCardImg = grid.lastElementChild.querySelector('.feature');
      ok(getComputedStyle(lastCardImg).objectPosition.includes('right') || APPS[APPS.length-1].featurePos.indexOf('right') !== -1, 'Gallery banner should bias to the right');

            // Focal point checks by id (order-independent)
      function getCfgPos(id){
        for(var i=0;i<APPS.length;i++){ if(APPS[i].id===id){ return APPS[i].featurePos || ''; } }
        return '';
      }
      function hasSideById(id, side){
        var el = featureElById(id);
        var cs = el ? getComputedStyle(el).objectPosition : '';
        var cfg = getCfgPos(id);
        return (cs && cs.indexOf(side) !== -1) || (cfg.indexOf(side) !== -1);
      }
      ok(hasSideById('com.vidx.vidxplayer','right'), 'Player banner should bias right');
      ok(hasSideById('com.vidxlab.files','right'), 'Files banner should bias right');
      ok(hasSideById('com.vidxlab.vidxmusic','left'), 'Music banner should bias left');
      ok(hasSideById('com.vidxlab.applocker','left'), 'AppLock banner should bias left');

      console.log('All smoke tests passed ✅');
    }catch(e){ console.warn('Smoke test failed:', e.message); }
  })();
  </script>
</body>
</html>
